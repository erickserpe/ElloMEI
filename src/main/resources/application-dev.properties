# ===================================
# DEVELOPMENT SETTINGS - SCF-MEI
# ===================================
# Este arquivo contém configurações específicas para o ambiente de DESENVOLVIMENTO.
# Para ativar este perfil, defina: SPRING_PROFILES_ACTIVE=dev
#
# Estas configurações são otimizadas para facilitar o desenvolvimento e debug.
# ===================================

# ===================================
# JPA/HIBERNATE - Configurações de Persistência
# ===================================
# Usar 'update' em desenvolvimento para criar/atualizar schema automaticamente
spring.jpa.hibernate.ddl-auto=update

# Mostrar SQL no console (útil para debug)
spring.jpa.show-sql=true

# Formatar SQL para melhor legibilidade
spring.jpa.properties.hibernate.format_sql=true

# Mostrar os valores dos parâmetros SQL (útil para debug)
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ===================================
# FLYWAY - Migrações de Banco de Dados
# ===================================
# Desabilitar Flyway em desenvolvimento (Hibernate gerencia o schema)
spring.flyway.enabled=false

# ===================================
# LOGGING - Configurações de Log
# ===================================
# Nível de log geral: INFO (mais verboso para desenvolvimento)
logging.level.root=INFO

# Nível de log da aplicação: DEBUG (máximo detalhe)
logging.level.br.com.scfmei=DEBUG

# Nível de log do Hibernate: DEBUG (ver queries e operações)
logging.level.org.hibernate.SQL=DEBUG

# Nível de log do Spring: INFO
logging.level.org.springframework=INFO

# Nível de log do Spring Security: DEBUG (útil para debug de autenticação)
logging.level.org.springframework.security=DEBUG

# Não salvar logs em arquivo (apenas console)
# logging.file.name=

# Padrão de log colorido para console
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr([%thread]){magenta} %clr(%-5level){highlight} %clr(%logger{36}){cyan} %clr(-){faint} %msg%n

# ===================================
# ACTUATOR - Endpoints de Monitoramento
# ===================================
# Habilitar todos os endpoints em desenvolvimento (útil para debug)
management.endpoints.enabled-by-default=true

# Mostrar detalhes completos do health
management.endpoint.health.show-details=always

# Mostrar componentes do health check
management.endpoint.health.show-components=always

# Expor todos os endpoints via web
management.endpoints.web.exposure.include=*

# Base path para os endpoints do Actuator
management.endpoints.web.base-path=/actuator

# ===================================
# COMPRESSÃO - Desabilitada em Dev
# ===================================
# Desabilitar compressão em desenvolvimento (facilita debug)
server.compression.enabled=false

# ===================================
# DATASOURCE - Pool de Conexões (HikariCP)
# ===================================
# Pool menor para desenvolvimento (economizar recursos)

# Número máximo de conexões no pool
spring.datasource.hikari.maximum-pool-size=5

# Número mínimo de conexões ociosas
spring.datasource.hikari.minimum-idle=2

# Timeout para obter uma conexão (10 segundos)
spring.datasource.hikari.connection-timeout=10000

# Nome do pool (para logs)
spring.datasource.hikari.pool-name=SCF-MEI-Dev-HikariCP

# ===================================
# CACHE - Configurações de Cache
# ===================================
# Usar cache em memória (simple) em desenvolvimento
spring.cache.type=simple

# ===================================
# THYMELEAF - Template Engine
# ===================================
# Desabilitar cache de templates em desenvolvimento (ver mudanças imediatamente)
spring.thymeleaf.cache=false

# ===================================
# DEVTOOLS - Ferramentas de Desenvolvimento
# ===================================
# Habilitar restart automático quando arquivos mudarem
spring.devtools.restart.enabled=true

# Habilitar LiveReload (atualizar browser automaticamente)
spring.devtools.livereload.enabled=true

# Diretórios a monitorar para restart
spring.devtools.restart.additional-paths=src/main/java,src/main/resources

# Diretórios a excluir do monitoramento
spring.devtools.restart.exclude=static/**,public/**

# ===================================
# SERVIDOR - Configurações do Tomcat
# ===================================
# Timeout de conexão (60 segundos - mais tempo para debug)
server.tomcat.connection-timeout=60000

# Número máximo de threads de trabalho (menor em dev)
server.tomcat.threads.max=50

# Número mínimo de threads de trabalho
server.tomcat.threads.min-spare=5

# ===================================
# SPRING BOOT - Configurações Gerais
# ===================================
# Mostrar banner do Spring Boot
spring.main.banner-mode=console

# ===================================
# DEBUG - Configurações Adicionais
# ===================================
# Habilitar modo debug do Spring Boot (muito verboso!)
# debug=true

# Habilitar trace (extremamente verboso!)
# trace=true

# ===================================
# NOTAS IMPORTANTES
# ===================================
# 
# DESENVOLVIMENTO:
# - Use este perfil localmente: SPRING_PROFILES_ACTIVE=dev
# - Hibernate gerencia o schema automaticamente (ddl-auto=update)
# - Logs detalhados para facilitar debug
# - DevTools habilitado para restart automático
# - Actuator expõe todos os endpoints
# 
# NUNCA USE ESTE PERFIL EM PRODUÇÃO!
# 
# ===================================

